# Centralized config for all charts
# Pass this file to helm commands with: -f helm/ports.yaml

cluster:
  name: on-prem

ports:
  # Monitoring stack
  grafana: 3000
  prometheus: 9090
  alertmanager:
    http: 9093
    cluster: 9094
    web: 8080
  loki:
    http: 3100
    grpc: 9095
    gateway: 8080  # Container port (network policies use pod-level ports)
    canary: 3500
  tempo:
    http: 3200
    grpc: 9096
    otlpGrpc: 4317
    otlpHttp: 4318
  alloy:
    http: 12345
    clustering: 12346
    otlpGrpc: 4317
    otlpHttp: 4318
  memcached:
    server: 11211
    exporter: 9150
  kubeStateMetrics: 8080
  prometheusOperatorWebhook: 10250

  # Gateway
  gateway:
    http: 80
    https: 443

  # DNS
  dns: 53

  # Kubernetes
  apiServer: 443
  apiServerSecure: 6443
  kubelet: 10250
  controllerManager: 10257
  scheduler: 10259
  proxy: 10249
  etcd: 2381

  # Cilium
  ciliumAgent: 9962
  ciliumOperator: 9963
  hubble: 9965
  hubbleRelay: 9966
  hubbleRelayGrpc: 4245
  envoy: 9091
  coreDns: 9153
  nodeExporter: 9100

  # Tetragon
  tetragon: 2112
  tetragonOperator: 2113
  tetragonGrpc: 54321

  # Kyverno
  kyverno:
    webhook: 9443
    metrics: 8000

  # Sealed Secrets
  sealedSecretsController: 8080

  # Ingress/Traefik
  ingressMetrics: 10254

  # Demo apps
  httpEcho: 5678
  httpService: 80
  juiceShop: 3000

  # Kafka / Strimzi
  kafka:
    broker:
      plain: 9092
      tls: 9093
      controller: 9090
    exporter: 9404
    jmxMetrics: 9091
  strimziOperator:
    webhook: 8443
    metrics: 8080
  kafkaUi:
    http: 8080

  # Trivy Operator
  trivyOperator:
    metrics: 8080
    probes: 9090

  # OpenTelemetry Operator
  otelOperator:
    webhook: 9443
    metrics: 8443

  # ArgoCD
  argocd:
    http: 8080
    https: 443
    metrics:
      server: 8083
      repoServer: 8084
      controller: 8082
      applicationset: 8080
    repoServer: 8081
    redis: 6379
    ssh: 22

  # Argo Rollouts
  argoRollouts:
    metrics: 8090

  # Vault
  vault:
    http: 8200
    cluster: 8201
    injectorWebhook: 8080

  # Keycloak
  keycloak:
    http: 8080
    https: 8443
    management: 9000

  # Headlamp
  headlamp:
    http: 4466

  # kube-oidc-proxy
  kubeOidcProxy:
    https: 8443