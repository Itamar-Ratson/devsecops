# Gateway configuration
gateway:
  name: main-gateway
  namespace: gateway

# Kafka cluster configuration
kafka:
  name: kafka-cluster
  version: "3.9.0"
  replicas: 1

  # Storage configuration (reduced for local dev)
  storage:
    type: jbod
    volumes:
      - id: 0
        type: persistent-claim
        size: 5Gi
        deleteClaim: false

  # Resource limits for local KinD cluster
  resources:
    limits:
      cpu: 500m
      memory: 1152Mi
    requests:
      cpu: 100m
      memory: 768Mi

# Entity Operator (Topic + User operators)
entityOperator:
  topicOperator:
    enabled: true
  userOperator:
    # Disabled due to startup issues in resource-constrained environment
    # Enable if KafkaUser management is needed
    enabled: false

# Topic configurations
topics:
  logsOtlp:
    partitions: 3
    replicas: 1
    retentionMs: 86400000      # 24 hours
    segmentBytes: 104857600    # 100MB
    compression: "lz4"
    cleanupPolicy: "delete"

# Kafka Exporter for consumer lag metrics
kafkaExporter:
  enabled: true
  groupRegex: ".*"
  topicRegex: ".*"
  resources:
    limits:
      cpu: 100m
      memory: 64Mi
    requests:
      cpu: 10m
      memory: 32Mi
